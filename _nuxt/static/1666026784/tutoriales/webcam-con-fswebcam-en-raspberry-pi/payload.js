__NUXT_JSONP__("/tutoriales/webcam-con-fswebcam-en-raspberry-pi", (function(a,b,c,d,e,f,g,h,i,j,k){c[0]="migueabellan";k.cdate="2019-04-01 00:00:00";k.mdate="2019-10-26 15:05:12";return {data:[{tutorial:{alias:"webcam-con-fswebcam-en-raspberry-pi",title:a,description:b,image:"img\u002Fpreview.jpg",contributors:c,tags:{technology:[d],hardware:[e],software:[],level:[f,g],others:[h,i]},extra:{level:"Medio",duration:"45 minutos",videos:j},date:k},title:a,description:b,image:"https:\u002F\u002Fraw.githubusercontent.com\u002FProgramoErgoSum\u002FTutoriales\u002Fmaster\u002Fv1\u002Fwebcam-con-fswebcam-en-raspberry-pi\u002Fimg\u002Fpreview.jpg",date:k,tags:[d,e,f,g,h,i],editLink:"https:\u002F\u002Fgithub.com\u002FProgramoErgoSum\u002FTutoriales\u002Fedit\u002Fmaster\u002Fv1\u002Fwebcam-con-fswebcam-en-raspberry-pi\u002FREADME.md",contributors:c,raw:"## Introducción\n\nEn este tutorial vamos a explicar cómo instalar fswebcam para tomar imágenes de forma automática en Raspberry Pi.\n\n### Antes de empezar\n\nVas a necesitar los siguientes componentes:\n\n- Raspberry Pi con Raspbian\n- Webcam USB\n\nEs recomendable acceder a los siguientes tutoriales:\n\n- Configurar Webcam en Raspberry Pi\n\n\n\n\u003Cbr \u002F\u003E\n\n\n\n## Software fswebcam\n\nFswebcam es una programa optimizado para la toma de imágenes utilizando una webcam. Se utiliza mediante la línea de comandos con lo que es muy útil para programar scripts automáticos en bash que se ejecuten cada cierto tiempo, o incluso controlando los pines GPIO de nuestra Raspberry Pi.\n\n\n\n\u003Cbr \u002F\u003E\n\n\n\n## Instalar fswebcam\n\n\u003E Recuerda que antes de instalar un programa es recomendable actualizar Raspbian como se explica en el tutorial de actualizar Raspbian. \n\nUna vez actualizado el sistema procedemos a la instalación del software mediante el comando `apt install fswebcam`.\n\n```sh\npi@raspberrypi:~ $ sudo apt install fswebcam\n```\n\nPara comprobar que se ha instalado correctamente ejecutamos la aplicación para que tome una imagen y la guarde en el directorio raíz de nuestro usuario con el nombre `imagen.jpg`.\n\n```sh\npi@raspberrypi:~ $ fswebcam image.jpg\n\n--- Opening \u002Fdev\u002Fvideo0...\nTrying source module v4l2...\n\u002Fdev\u002Fvideo0 opened.\nNo input was specified, using the first.\nAdjusting resolution from 384x288 to 352x288.\n--- Capturing frame...\nCaptured frame in 0.00 seconds.\n--- Processing captured image...\nWriting JPEG image to 'image.jpg'.\npi@raspberrypi:~ $ \n```\n\n![](img\u002Ffswebcam.jpg \"Fswebcam\")\n\n\n\n\u003Cbr \u002F\u003E\n\n\n\n## Imágenes automáticas\n\nPara tomar imágenes de forma automática vamos a utilizar un script en bash encargado de tomar imágenes y guardarlas en una carpeta con la fecha de la captura. Además deberemos crear un cron que se ejecute cada cierto tiempo.\n\nEn primer lugar creamos el fichero `webcam.sh` que guardaremos dentro de una carpeta `webcam`. Podemos crearla desde consola mediante el comando `mkdir \u002Fhome\u002Fpi\u002Fwebcam`.\n\n```sh\npi@raspberrypi:~ $ mkdir webcam\npi@raspberrypi:~ $ cd webcam\npi@raspberrypi:~\u002Fwebcam $ sudo leafpad webcam.sh\n```\n\nAñadimos el siguiente código encargado de tomar una foto. Fíjate como se crea una variable que contendrá la fecha del sistema para guardar la foto con la fecha y hora de la captura.\n\n```bash\n#!\u002Fbin\u002Fbash\n\nDATE=$(date +\"%Y-%m-%d_%H%M\")\n\nfswebcam \u002Fhome\u002Fpi\u002Fwebcam\u002F$DATE.jpg\n```\n\nEl siguiente paso será dar permisos al fichero para que se pueda ejecutar.\n\n```sh\npi@raspberrypi:~\u002Fwebcam $ sudo chmod +x webcam.sh\n```\n\nComprobamos que tenemos permisos para ejecutar el comando y además comprobamos que se ha creado la captura correctamente con la fecha del sistema.\n\n```sh\npi@raspberrypi:~\u002Fwebcam $ .\u002Fwebcam.sh\n```\n\n\n\n\u003Cbr \u002F\u003E\n\n\n\n## Cron que se ejecuta cada minuto\n\nLas tareas cron siguen una determinada sintaxis. Tienen 5 asteriscos seguidos del comando a ejecutar. `* * * * * \u002Fruta\u002Fejecutar\u002Fscript.sh`\n\nLos 5 asteriscos, de izquierda a derecha, los asteriscos representan:\n\n- Minutos: de 0 a 59.\n- Horas: de 0 a 23.\n- Día del mes: de 1 a 31.\n- Mes: de 1 a 12.\n- Día de la semana: de 0 a 6, siendo 0 el domingo.\n\nEn este ejemplo, como queremos tomar una imagen cada minuto crearemos una entrada similar a la anterior. Pero en primer lugar debemos acceder al cron mediante el comando `crontab -e` y seleccionamos la opción `\u002Fbin\u002Fnano`.\n\n```sh\npi@raspberrypi:~ $ crontab -e\n```\n\nA continuación nos situamos al final del documento para introducir la siguiente línea.\n\n```bash\n* * * * * \u002Fhome\u002Fpi\u002Fwebcam\u002Fwebcam.sh\n```\n\nAhora solo nos queda esperar y ver como en cada cambio de minuto se realiza una fotografía.\n\n\n\n\u003Cbr \u002F\u003E\n\n\n\n## Ejercicios propuestos\n\n1.- Conecta una webcam USB y comprueba el correcto funcionamiento de las capturas de pantalla mediante consola.\n\n2.- Crea una cron o tarea personalizada que se ejecute cada media hora y tome una imagen.\n\n3.- Comenta la tarea del cron para que deje de realizar capturas de pantalla.\n",cdn:"https:\u002F\u002Fraw.githubusercontent.com\u002FProgramoErgoSum\u002FTutoriales\u002Fmaster\u002Fv1\u002Fwebcam-con-fswebcam-en-raspberry-pi\u002F",breadcrumbs:[{text:"Tutoriales",disabled:false,to:"\u002Ftutoriales"},{text:a,disabled:true,to:j}]}],fetch:[],mutations:[]}}("Imágenes automáticas con fswebcam en Raspberry Pi","Tomar imágenes de forma automática con una webcam en Raspberry Pi.",Array(1),"Informática","Raspberry Pi","Secundaria","Bachillerato","Raspbian","Webcam","",{})));